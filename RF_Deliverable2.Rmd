---
title: "Deliverable-2"
output:
  flexdashboard::flex_dashboard:
    orientation: rows
    vertical_layout: fill
Group: 2
Author: Roohi Firdous, Fabian Sanchez
R Programming
---

## **Uncovering Marketing Insights**

Marketa analytics has hired you to as an Algorithmic marketing analyst. Marketa is a consulting organization specializing in Marketing analytical solutions. Your client (see allocations by team number below) has provided you a sample dataset and asked you to analyze and build an analytical dashboard (plots or graphs) as a Proof-of-concept to illustrate the value of data driven analytics. The themes to be considered include:

• Pricing

• Promotion

**Import the CSV file:**

```{r}
library('tidyverse')
library(shinydashboard)
library(shiny)
library('ggplot2')
```

```{r}
SalesData <- read.csv('Ecommerce_Sales_Data.csv', header=T, na.strings='')
SalesData
```

```{r}
summary(SalesData)
```

**Checking Columns with N/A or null**

```{r}
colSums(is.na(SalesData))
# No N/A or NULL fields to correct it
```

**Converting Values**

```{r}
# Converting categorical values into numerical values -> Assign factor
str(SalesData)
SalesData
```

```{r}
# Basic Dashboard with the table
ui <- dashboardPage(
  dashboardHeader(title = "Marketa Analytics"),
  dashboardSidebar(textInput("text", "Text")),
  dashboardBody(
    valueBox("Analysis", "Ecomerce Sales Data"),
    tableOutput("SalesData")
  )
)
server <- function(input, output) {
  output$SalesData <- renderTable(head(SalesData))
}
shinyApp(ui, server)
```

```{r}
# Dashboard interactive with the data and plot
ui <- dashboardPage(
  dashboardHeader(title = "Basic dashboard"),
  dashboardSidebar(),
  dashboardBody(
    # Boxes need to be put in a row (or column)
    fluidRow(
      box(plotOutput("plot1", height = 250)),

      box(
        title = "Controls",
        sliderInput("slider", "Number of observations:", 1, 100, 50)
      )
    )
  )
)

server <- function(input, output) {
  set.seed(122)
  histdata <- rnorm(500)

  output$plot1 <- renderPlot({
    data <- histdata[seq_len(input$slider)]
    hist(data)
  })
}

shinyApp(ui, server)
```

```{r}
# Purchases for Apple products
ApplePrch <- SalesData %>% filter(event_type=='Purchase' & brand=="Apple")
ApplePrch
```

```{r}
hist(ApplePrch$price,
main="Purchases Apple devices",
xlab="Price",
col="blue",
#freq=FALSE
)
```

```{r}
# Graph Purchases by Day_Of_Week
Purchases <- SalesData %>% filter(event_type=='Purchase')
ggplot(data = Purchases, mapping = aes(x = Day_of_Week, y = price)) +
  geom_boxplot()
```

```{r}
# Kind of event from user according to the day of the week
ggplot(data = SalesData, mapping = aes(x = event_type, y = Day_of_Week)) +
  geom_point()
```

```{r}
# Kind of event from user according to the hour
ggplot(data = SalesData, mapping = aes(x = event_type, y = event_hour)) +
  geom_point()
```

```{r}
# Number of events According to the category
ggplot(SalesData, aes(x=category_id))+geom_histogram()
```

```{r}
# Number of events According to the Product identification
ggplot(SalesData, aes(x=product_id))+geom_histogram()
```
